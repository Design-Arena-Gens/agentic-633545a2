"use client";
import { useMemo } from 'react';
import { useI18n, useLanguage } from './LanguageProvider';

const QUOTES: Record<string, Record<string, string[]>> = {
  en: {
    dawn: [
      'Begin the day with clarity; act without attachment.',
      'Let purpose guide your morning, not moods.',
      'Steady effort brings quiet strength.',
    ],
  },
  hi: { dawn: ['??? ?? ?????? ???????? ?? ????; ?????? ???? ???? ?????', '??????? ?? ????, ???????? ?? ?????', '????? ??????, ????? ?? ??????'] },
  ml: { dawn: ['????? ??????????? ????????; ?????????? ??????????????.', '?????????, ??????? ??????????.', '???????? ????? ??????????????.'] },
  ta: { dawn: ['????????? ???? ????????????; ????????? ????? ????.', '???????? ????, ??????? ??? ???????????.', '??????????? ????? ?????????.'] },
  kn: { dawn: ['???????????? ??? ??????????; ????????????? ????.', '????? ????, ?????? ??????????.', '????? ???????, ???? ?????.'] },
  te: { dawn: ['????????? ???? ????? ????????; ?????? ??????? ???? ??????.', '????????? ???????? ??????.', '????? ???????? ??????? ????????.'] },
  bn: { dawn: ['???????? ????? ??? ???? ????; ????????? ???? ?????', '????? ???, ???????? ?? ??????', '????? ????????? ????? ????? ????'] },
  ar: { dawn: ['???? ???? ?????? ???? ??? ????.', '?? ????? ????? ?? ??????.', '????? ?????? ???? ??? ?????.'] },
};

export function DailyQuote() {
  const { lang } = useLanguage();
  const t = useI18n();
  const quote = useMemo(() => {
    const list = QUOTES[lang]?.dawn ?? QUOTES.en.dawn;
    const dayIndex = Math.abs(new Date().toDateString().split('').reduce((a, c) => a + c.charCodeAt(0), 0)) % list.length;
    return list[dayIndex];
  }, [lang]);

  return (
    <section className="card p-6">
      <h2 className="text-2xl font-semibold mb-2">{t('start_journey', 'Start your journey')}</h2>
      <p className="text-lg text-white/90">?{quote}?</p>
      <p className="text-sm text-white/60 mt-2">{t('subtitle', 'Understand the Gita beyond religion ? brief insights, real-life scenarios, serene audio.')}</p>
    </section>
  );
}
